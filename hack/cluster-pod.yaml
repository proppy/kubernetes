version: v1beta1
id: cluster-pod
containers:
  - name: etcd
    image: coreos/etcd
    command: ["-vv"]
    ports:
      - name: etcd-port
        hostPort: 4001
        containerPort: 4001
        protocol: TCP
  - name: apiserver
    image: kubernetes
    imagePullPolicy: never
    ports:
      - name: apiserver-port
        hostPort: 8080
        containerPort: 8080
        protocol: TCP
    command: ["/kubernetes/apiserver", "-v=5", "-address=0.0.0.0", "-etcd_servers=http://127.0.0.1:4001", "-machines=10.0.2.15"]
  - name: controller-manager
    image: kubernetes
    imagePullPolicy: never
    command: ["/kubernetes/controller-manager", "-v=5", "-master=127.0.0.1:8080"]
  - name: proxy
    image: kubernetes
    imagePullPolicy: never
    command: ["/kubernetes/proxy", "-v=5", "-etcd_servers=http://127.0.0.1:4001"]
  - name: scheduler
    image: kubernetes
    imagePullPolicy: never
    command: ["/kubernetes/scheduler", "-v=5", "-master=127.0.0.1:8080"]
